RewriteEngine On
RewriteCond %{HTTP_HOST} !^172.20.0.1\$ [NC]
RewriteRule ^public/$ http://172.20.0.1/$1 [L,R=301]